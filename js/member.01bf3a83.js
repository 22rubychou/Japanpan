(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["member"],{3470:function(t,s,e){},"366a":function(t,s,e){},"4de4":function(t,s,e){"use strict";var a=e("23e7"),o=e("b727").filter,c=e("1dde"),r=e("ae40"),l=c("filter"),n=r("filter");a({target:"Array",proto:!0,forced:!l||!n},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"80d2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"member"}},[e("Navbar"),e("b-breadcrumb",{staticClass:"mt-5"},[e("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("首頁")]),e("b-breadcrumb-item",{attrs:{active:""}},[t._v("會員專區")])],1),e("div",{attrs:{id:"container"}},[e("div",{staticClass:"title"},[t._v("訂單詳情")]),e("div",{staticClass:"w-70"},[e("b-row",{staticClass:"mb-4"},[e("b-col",{attrs:{cols:"3"}},[e("b-form-select",{attrs:{options:t.filteroptions},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}})],1),e("b-col",{attrs:{cols:"9"}})],1),e("b-row",{staticClass:"firstcolborder"},[e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"3"}},[t._v("訂單編號")]),e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"3"}},[t._v("訂單日期")]),e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"3"}},[t._v("狀態")]),e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"3"}},[t._v("詳細資料")])],1),t._l(t.filterorders,(function(s){return e("b-row",{staticClass:"colBorder"},[e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"3"}},[t._v(t._s(s.identification))]),e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"3"}},[t._v(t._s(s.date))]),e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"3"}},[e("span",{staticClass:"sellColorNormal",class:{sellColor:"已付款"===s.orderStatus}},[t._v(t._s(s.orderStatus))])]),e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"3"}},[e("b-btn",{staticClass:"editbtn",attrs:{variant:"success"},on:{click:function(e){return t.showModel(s)}}},[e("font-awesome-icon",{attrs:{icon:["fas","search-plus"]}})],1)],1)],1)}))],2)]),e("b-modal",{ref:"my-modal",attrs:{id:"my-modal",size:"lg","hide-header":"","hide-footer":""},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[e("div",{staticClass:"w-70 mx-auto my-5"},[e("div",{staticClass:"title"},[t._v("訂單資料")]),e("b-row",{staticClass:"justify-content-between"},[e("b-col",{attrs:{id:"orderInfo",cols:"auto"}},[e("b-row",{staticClass:"flex-column"},[e("b-col",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"mr-3"},[t._v("訂單編號")]),e("span",[t._v(t._s(t.orderTemp.identification))])]),e("b-col",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"mr-3"},[t._v("下訂日期")]),e("span",[t._v(t._s(t.orderTemp.date))])]),e("b-col",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"mr-3"},[t._v("預定日期")]),e("span",[t._v(t._s(t.orderTemp.arriveDate))])]),e("b-col",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"mr-3"},[t._v("付款方式")]),e("span",[t._v(t._s(t.orderInfoTemp.payment))])])],1)],1),e("b-col",{staticClass:"sellColorNormal",class:{sellColor:"已付款"===t.orderTemp.orderStatus},attrs:{id:"orderStatus",cols:"auto"}},[t._v(t._s(t.orderTemp.orderStatus))])],1),e("hr"),e("div",{staticClass:"title"},[t._v("訂購人資料")]),e("b-row",{staticClass:"flex-column"},[e("b-col",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"mr-3"},[t._v("姓名")]),e("span",[t._v(t._s(t.orderInfoTemp.userName))])]),e("b-col",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"mr-3"},[t._v("信箱")]),e("span",[t._v(t._s(t.orderInfoTemp.userEmail))])]),e("b-col",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"mr-3"},[t._v("電話")]),e("span",[t._v(t._s(t.orderInfoTemp.userTel))])]),e("b-col",{staticClass:"d-flex mb-2"},[e("span",{staticClass:"mr-3"},[t._v("地址")]),e("span",[t._v(t._s(t.orderInfoTemp.userAddress))])]),e("b-col",{staticClass:"d-flex mb-4"},[e("span",{staticClass:"mr-3"},[t._v("備註")]),e("span",[t._v(t._s(t.orderInfoTemp.other))])])],1),e("hr"),e("div",{staticClass:"title"},[t._v("訂購商品資料")]),t._l(t.orderCartTemps,(function(s,a){return e("b-row",{key:s.id,staticClass:"mb-2"},[e("b-col",{attrs:{cols:"4"}},[e("span",{staticClass:"proBig"},[t._v(t._s(s.name))]),e("span",{staticClass:"proSmall"},[t._v("NT$ "+t._s(s.price))])]),e("b-col",{staticClass:"text-left",attrs:{cols:"2"}},[e("span",[t._v("x "+t._s(s.amount)+" 個")])]),e("b-col",{attrs:{cols:"3"}}),e("b-col",{staticClass:"text-right",attrs:{cols:"3"}},[e("span",{staticClass:"price"},[t._v("NT$ "+t._s(s.price*s.amount))])])],1)})),e("p",{staticClass:"mt-4"},[t._v("總金額"),e("span",{staticClass:"price"},[t._v(" NT$ "+t._s(t.orderTotalPrice))])])],2)])],1)},o=[],c=(e("4de4"),e("4160"),e("159b"),e("9d8d")),r={name:"Member",data:function(){return{memberOrders:[],show:!1,orderTemp:{},orderInfoTemp:{},orderCartTemps:[],selected:"所有訂單",filteroptions:[{value:"所有訂單",text:"所有訂單"},{value:"未付款",text:"目前訂單"},{value:"已付款",text:"歷史訂單"}]}},components:{Navbar:c["a"]},computed:{user:function(){return this.$store.getters.user},orderTotalPrice:function(){var t=0;return this.orderCartTemps.forEach((function(s){t+=s.price*s.amount})),t},filterorders:function(){var t=this;return this.memberOrders.filter((function(s){return"所有訂單"===t.selected?s:s.orderStatus===t.selected}))}},methods:{showModel:function(t){this.orderTemp=t,this.orderInfoTemp=t.orderInfo[0],this.orderCartTemps=t.cartInfo,console.log(this.orderCartTemps),this.show=!0}},mounted:function(){var t=this;this.axios.get("https://japanpan.herokuapp.com/orders/"+this.user.id).then((function(s){t.memberOrders=s.data.result.reverse()}))}},l=r,n=(e("abd0"),e("2877")),i=Object(n["a"])(l,a,o,!1,null,"3337721f",null);s["default"]=i.exports},"9bb0":function(t,s,e){"use strict";e("3470")},"9d8d":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mt-3 d-flex align-items-center",attrs:{id:"navbar"}},[e("b-row",{staticClass:"w-90 mx-auto"},[e("b-col",{staticClass:"d-flex align-iems-start pl-0",attrs:{cols:"3"}},[e("img",{staticClass:"logo",attrs:{src:"./Home/logo08.png"},on:{click:t.toHome}})]),e("b-col",{staticClass:"d-flex flex-column justify-content-around px-0",attrs:{cols:"9"}},[e("div",{staticClass:"d-flex justify-content-end h-10",attrs:{id:"icons"}},[e("font-awesome-icon",{staticClass:"icon ml-auto mr-4",attrs:{icon:["fab","instagram"]}}),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fab","facebook-square"]}})],1),e("div",{staticClass:"d-flex justify-content-end h-90",attrs:{id:"items"}},[e("b-row",{staticClass:"justify-content-end"},[0===t.admin.id.length?e("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toAll}},[e("p",{staticClass:"p-0 m-0 text-center"},[t._v("美味麵包")]),e("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Delicious")])]):t._e(),0===t.admin.id.length?e("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toFav}},[0!==t.favItemsLength?e("div",{staticClass:"favItem"},[t._v(t._s(t.favItemsLength))]):t._e(),e("p",{staticClass:"p-0 m-0 text-center"},[t._v("收藏")]),e("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Fav")])]):t._e(),0===t.admin.id.length?e("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toCart}},[0!==t.cartItemsLength?e("div",{staticClass:"cartItem"},[t._v(t._s(t.cartItemsLength))]):t._e(),e("p",{staticClass:"p-0 m-0 text-center"},[t._v("購物車")]),e("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Cart")])]):t._e(),0!==t.user.id.length&&0===t.admin.id.length?e("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toMember}},[e("p",{staticClass:"p-0 m-0 text-center"},[t._v("會員專區")]),e("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Member")])]):t._e(),0!==t.admin.id.length&&0===t.user.id.length?e("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toAdmin}},[e("p",{staticClass:"p-0 m-0 text-center"},[t._v("後台管理")]),e("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Admin")])]):t._e(),0===t.user.id.length&&0===t.admin.id.length?e("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toLogin}},[e("p",{staticClass:"p-0 m-0 text-center"},[t._v("登入 / 註冊")]),e("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Sign In / Sign Up")])]):t._e(),0!==t.admin.id.length&&0===t.user.id.length?e("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.adminLogout}},[e("p",{staticClass:"p-0 m-0 text-center"},[t._v("登出")]),e("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Log Out")])]):t._e(),0!==t.user.id.length&&0===t.admin.id.length?e("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.logout}},[e("p",{staticClass:"p-0 m-0 text-center"},[t._v("登出")]),e("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Log Out")])]):t._e()],1)],1)])],1)],1)},o=[],c={name:"navbar",data:function(){return{}},computed:{user:function(){return this.$store.state.user},admin:function(){return this.$store.state.admin},favItemsLength:function(){return this.$store.getters.favItemsLength},cartItemsLength:function(){return this.$store.getters.cartTotalAmount}},methods:{toLogin:function(){this.$router.push("/regandlogin")},toAll:function(){this.$router.push("/allProducts")},toAdmin:function(){this.$router.push("/admin")},toFav:function(){this.$router.push("/fav")},toCart:function(){this.$router.push("/cart")},toMember:function(){this.$router.push("/member")},toHome:function(){this.$router.push("/")},logout:function(){var t=this;this.axios.delete("https://japanpan.herokuapp.com/users/logout").then((function(s){s.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:s.data.message})})).catch((function(s){t.$swal({icon:"error",title:"錯誤",text:s.response.data.message})}))},adminLogout:function(){var t=this;this.axios.delete("https://japanpan.herokuapp.com/admins/logout").then((function(s){s.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("adminLogout"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:s.data.message})})).catch((function(s){t.$swal({icon:"error",title:"錯誤",text:s.response.data.message})}))}}},r=c,l=(e("9bb0"),e("2877")),n=Object(l["a"])(r,a,o,!1,null,"368ca8f6",null);s["a"]=n.exports},abd0:function(t,s,e){"use strict";e("366a")}}]);
//# sourceMappingURL=member.01bf3a83.js.map