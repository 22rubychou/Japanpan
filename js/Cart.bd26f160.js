(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cart"],{"057f":function(t,e,r){var s=r("fc6a"),a=r("241c").f,n={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return a(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==n.call(t)?i(t):a(s(t))}},1276:function(t,e,r){"use strict";var s=r("d784"),a=r("44e7"),n=r("825a"),o=r("1d80"),i=r("4840"),c=r("8aa5"),l=r("50c4"),u=r("14c3"),f=r("9263"),d=r("d039"),m=[].push,p=Math.min,v=4294967295,g=!d((function(){return!RegExp(v,"y")}));s("split",2,(function(t,e,r){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var s=String(o(this)),n=void 0===r?v:r>>>0;if(0===n)return[];if(void 0===t)return[s];if(!a(t))return e.call(s,t,n);var i,c,l,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,d+"g");while(i=f.call(g,s)){if(c=g.lastIndex,c>p&&(u.push(s.slice(p,i.index)),i.length>1&&i.index<s.length&&m.apply(u,i.slice(1)),l=i[0].length,p=c,u.length>=n))break;g.lastIndex===i.index&&g.lastIndex++}return p===s.length?!l&&g.test("")||u.push(""):u.push(s.slice(p)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var a=o(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a,r):s.call(String(a),e,r)},function(t,a){var o=r(s,t,this,a,s!==e);if(o.done)return o.value;var f=n(t),d=String(this),m=i(f,RegExp),h=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),x=new m(g?f:"^(?:"+f.source+")",b),C=void 0===a?v:a>>>0;if(0===C)return[];if(0===d.length)return null===u(x,d)?[d]:[];var _=0,y=0,w=[];while(y<d.length){x.lastIndex=g?y:0;var I,$=u(x,g?d:d.slice(y));if(null===$||(I=p(l(x.lastIndex+(g?0:y)),d.length))===_)y=c(d,y,h);else{if(w.push(d.slice(_,y)),w.length===C)return w;for(var O=1;O<=$.length-1;O++)if(w.push($[O]),w.length===C)return w;y=_=I}}return w.push(d.slice(_)),w}]}),!g)},"14c3":function(t,e,r){var s=r("c6b6"),a=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var n=r.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==s(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},3470:function(t,e,r){},"44e7":function(t,e,r){var s=r("861d"),a=r("c6b6"),n=r("b622"),o=n("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}},"4de4":function(t,e,r){"use strict";var s=r("23e7"),a=r("b727").filter,n=r("1dde"),o=r("ae40"),i=n("filter"),c=o("filter");s({target:"Array",proto:!0,forced:!i||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},6134:function(t,e,r){},6547:function(t,e,r){var s=r("a691"),a=r("1d80"),n=function(t){return function(e,r){var n,o,i=String(a(e)),c=s(r),l=i.length;return c<0||c>=l?t?"":void 0:(n=i.charCodeAt(c),n<55296||n>56319||c+1===l||(o=i.charCodeAt(c+1))<56320||o>57343?t?i.charAt(c):n:t?i.slice(c,c+2):o-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"746f":function(t,e,r){var s=r("428f"),a=r("5135"),n=r("e538"),o=r("9bf2").f;t.exports=function(t){var e=s.Symbol||(s.Symbol={});a(e,t)||o(e,t,{value:n.f(t)})}},"8aa5":function(t,e,r){"use strict";var s=r("6547").charAt;t.exports=function(t,e,r){return e+(r?s(t,e).length:1)}},9263:function(t,e,r){"use strict";var s=r("ad6d"),a=r("9f7f"),n=RegExp.prototype.exec,o=String.prototype.replace,i=n,c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=c||u||l;f&&(i=function(t){var e,r,a,i,f=this,d=l&&f.sticky,m=s.call(f),p=f.source,v=0,g=t;return d&&(m=m.replace("y",""),-1===m.indexOf("g")&&(m+="g"),g=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),r=new RegExp("^(?:"+p+")",m)),u&&(r=new RegExp("^"+p+"$(?!\\s)",m)),c&&(e=f.lastIndex),a=n.call(d?r:f,g),d?a?(a.input=a.input.slice(v),a[0]=a[0].slice(v),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:c&&a&&(f.lastIndex=f.global?a.index+a[0].length:e),u&&a&&a.length>1&&o.call(a[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a}),t.exports=i},"9bb0":function(t,e,r){"use strict";r("3470")},"9d8d":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-3 d-flex align-items-center",attrs:{id:"navbar"}},[r("b-row",{staticClass:"w-90 mx-auto"},[r("b-col",{staticClass:"d-flex align-iems-start pl-0",attrs:{cols:"3"}},[r("img",{staticClass:"logo",attrs:{src:"./Home/logo08.png"},on:{click:t.toHome}})]),r("b-col",{staticClass:"d-flex flex-column justify-content-around px-0",attrs:{cols:"9"}},[r("div",{staticClass:"d-flex justify-content-end h-10",attrs:{id:"icons"}},[r("font-awesome-icon",{staticClass:"icon ml-auto mr-4",attrs:{icon:["fab","instagram"]}}),r("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fab","facebook-square"]}})],1),r("div",{staticClass:"d-flex justify-content-end h-90",attrs:{id:"items"}},[r("b-row",{staticClass:"justify-content-end"},[0===t.admin.id.length?r("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toAll}},[r("p",{staticClass:"p-0 m-0 text-center"},[t._v("美味麵包")]),r("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Delicious")])]):t._e(),0===t.admin.id.length?r("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toFav}},[0!==t.favItemsLength?r("div",{staticClass:"favItem"},[t._v(t._s(t.favItemsLength))]):t._e(),r("p",{staticClass:"p-0 m-0 text-center"},[t._v("收藏")]),r("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Fav")])]):t._e(),0===t.admin.id.length?r("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toCart}},[0!==t.cartItemsLength?r("div",{staticClass:"cartItem"},[t._v(t._s(t.cartItemsLength))]):t._e(),r("p",{staticClass:"p-0 m-0 text-center"},[t._v("購物車")]),r("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Cart")])]):t._e(),0!==t.user.id.length&&0===t.admin.id.length?r("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toMember}},[r("p",{staticClass:"p-0 m-0 text-center"},[t._v("會員專區")]),r("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Member")])]):t._e(),0!==t.admin.id.length&&0===t.user.id.length?r("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toAdmin}},[r("p",{staticClass:"p-0 m-0 text-center"},[t._v("後台管理")]),r("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Admin")])]):t._e(),0===t.user.id.length&&0===t.admin.id.length?r("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toLogin}},[r("p",{staticClass:"p-0 m-0 text-center"},[t._v("登入 / 註冊")]),r("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Sign In / Sign Up")])]):t._e(),0!==t.admin.id.length&&0===t.user.id.length?r("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.adminLogout}},[r("p",{staticClass:"p-0 m-0 text-center"},[t._v("登出")]),r("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Log Out")])]):t._e(),0!==t.user.id.length&&0===t.admin.id.length?r("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.logout}},[r("p",{staticClass:"p-0 m-0 text-center"},[t._v("登出")]),r("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Log Out")])]):t._e()],1)],1)])],1)],1)},a=[],n={name:"navbar",data:function(){return{}},computed:{user:function(){return this.$store.state.user},admin:function(){return this.$store.state.admin},favItemsLength:function(){return this.$store.getters.favItemsLength},cartItemsLength:function(){return this.$store.getters.cartTotalAmount}},methods:{toLogin:function(){this.$router.push("/regandlogin")},toAll:function(){this.$router.push("/allProducts")},toAdmin:function(){this.$router.push("/admin")},toFav:function(){this.$router.push("/fav")},toCart:function(){this.$router.push("/cart")},toMember:function(){this.$router.push("/member")},toHome:function(){this.$router.push("/")},logout:function(){var t=this;this.axios.delete("https://japanpan.herokuapp.com/users/logout").then((function(e){e.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))},adminLogout:function(){var t=this;this.axios.delete("https://japanpan.herokuapp.com/admins/logout").then((function(e){e.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("adminLogout"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))}}},o=n,i=(r("9bb0"),r("2877")),c=Object(i["a"])(o,s,a,!1,null,"368ca8f6",null);e["a"]=c.exports},"9f7f":function(t,e,r){"use strict";var s=r("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=s((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=s((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a4d3:function(t,e,r){"use strict";var s=r("23e7"),a=r("da84"),n=r("d066"),o=r("c430"),i=r("83ab"),c=r("4930"),l=r("fdbf"),u=r("d039"),f=r("5135"),d=r("e8b5"),m=r("861d"),p=r("825a"),v=r("7b0b"),g=r("fc6a"),h=r("c04e"),b=r("5c6c"),x=r("7c73"),C=r("df75"),_=r("241c"),y=r("057f"),w=r("7418"),I=r("06cf"),$=r("9bf2"),O=r("d1e7"),E=r("9112"),j=r("6eeb"),S=r("5692"),P=r("f772"),N=r("d012"),k=r("90e3"),D=r("b622"),T=r("e538"),A=r("746f"),R=r("d44e"),L=r("69f3"),U=r("b727").forEach,q=P("hidden"),B="Symbol",F="prototype",M=D("toPrimitive"),H=L.set,J=L.getterFor(B),K=Object[F],Y=a.Symbol,z=n("JSON","stringify"),G=I.f,Q=$.f,W=y.f,X=O.f,V=S("symbols"),Z=S("op-symbols"),tt=S("string-to-symbol-registry"),et=S("symbol-to-string-registry"),rt=S("wks"),st=a.QObject,at=!st||!st[F]||!st[F].findChild,nt=i&&u((function(){return 7!=x(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(t,e,r){var s=G(K,e);s&&delete K[e],Q(t,e,r),s&&t!==K&&Q(K,e,s)}:Q,ot=function(t,e){var r=V[t]=x(Y[F]);return H(r,{type:B,tag:t,description:e}),i||(r.description=e),r},it=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Y},ct=function(t,e,r){t===K&&ct(Z,e,r),p(t);var s=h(e,!0);return p(r),f(V,s)?(r.enumerable?(f(t,q)&&t[q][s]&&(t[q][s]=!1),r=x(r,{enumerable:b(0,!1)})):(f(t,q)||Q(t,q,b(1,{})),t[q][s]=!0),nt(t,s,r)):Q(t,s,r)},lt=function(t,e){p(t);var r=g(e),s=C(r).concat(pt(r));return U(s,(function(e){i&&!ft.call(r,e)||ct(t,e,r[e])})),t},ut=function(t,e){return void 0===e?x(t):lt(x(t),e)},ft=function(t){var e=h(t,!0),r=X.call(this,e);return!(this===K&&f(V,e)&&!f(Z,e))&&(!(r||!f(this,e)||!f(V,e)||f(this,q)&&this[q][e])||r)},dt=function(t,e){var r=g(t),s=h(e,!0);if(r!==K||!f(V,s)||f(Z,s)){var a=G(r,s);return!a||!f(V,s)||f(r,q)&&r[q][s]||(a.enumerable=!0),a}},mt=function(t){var e=W(g(t)),r=[];return U(e,(function(t){f(V,t)||f(N,t)||r.push(t)})),r},pt=function(t){var e=t===K,r=W(e?Z:g(t)),s=[];return U(r,(function(t){!f(V,t)||e&&!f(K,t)||s.push(V[t])})),s};if(c||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=k(t),r=function(t){this===K&&r.call(Z,t),f(this,q)&&f(this[q],e)&&(this[q][e]=!1),nt(this,e,b(1,t))};return i&&at&&nt(K,e,{configurable:!0,set:r}),ot(e,t)},j(Y[F],"toString",(function(){return J(this).tag})),j(Y,"withoutSetter",(function(t){return ot(k(t),t)})),O.f=ft,$.f=ct,I.f=dt,_.f=y.f=mt,w.f=pt,T.f=function(t){return ot(D(t),t)},i&&(Q(Y[F],"description",{configurable:!0,get:function(){return J(this).description}}),o||j(K,"propertyIsEnumerable",ft,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),U(C(rt),(function(t){A(t)})),s({target:B,stat:!0,forced:!c},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var r=Y(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),s({target:"Object",stat:!0,forced:!c,sham:!i},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:dt}),s({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:mt,getOwnPropertySymbols:pt}),s({target:"Object",stat:!0,forced:u((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(v(t))}}),z){var vt=!c||u((function(){var t=Y();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))}));s({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,r){var s,a=[t],n=1;while(arguments.length>n)a.push(arguments[n++]);if(s=e,(m(e)||void 0!==t)&&!it(t))return d(e)||(e=function(t,e){if("function"==typeof s&&(e=s.call(this,t,e)),!it(e))return e}),a[1]=e,z.apply(null,a)}})}Y[F][M]||E(Y[F],M,Y[F].valueOf),R(Y,B),N[q]=!0},ac1f:function(t,e,r){"use strict";var s=r("23e7"),a=r("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,r){"use strict";var s=r("825a");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b64b:function(t,e,r){var s=r("23e7"),a=r("7b0b"),n=r("df75"),o=r("d039"),i=o((function(){n(1)}));s({target:"Object",stat:!0,forced:i},{keys:function(t){return n(a(t))}})},b789:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{cartOverFlow:t.cartItems.length<=0},attrs:{id:"cart"}},[r("Navbar"),r("b-breadcrumb",{staticClass:"mt-5"},[r("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("首頁")]),r("b-breadcrumb-item",{attrs:{active:""}},[t._v("購物車")])],1),t.cartItems.length>0?r("form-wizard",{staticClass:"form-wizard my-3",attrs:{"error-color":"#a94442",color:" #c5c4a6","back-button-text":"上一步","next-button-text":"下一步","finish-button-text":"送出訂單"},on:{"on-complete":t.orderComplete}},[r("div",{attrs:{slot:"title",id:"title"},slot:"title"}),r("tab-content",{staticClass:"mt-3 mb-4",attrs:{title:"確認商品","before-change":t.islogin}},[r("b-row",{staticClass:"row"},[t._l(t.cartItems,(function(e,s){return r("b-col",{key:e.productId,staticClass:"col colBorder",attrs:{cols:"12"}},[r("div",{staticClass:"proImg"},[r("img",{staticClass:"image",attrs:{src:e.imageUrl}})]),r("b-row",{attrs:{id:"proInfo"}},[r("b-col",{attrs:{id:"proName",cols:"12",md:"3"}},[r("span",{staticClass:"proBig"},[t._v(t._s(e.name))]),r("span",{staticClass:"proSmall"},[t._v("單價 NT$ "+t._s(e.price))])]),r("b-col",{attrs:{cols:"0",md:"2"}}),r("b-col",{attrs:{id:"proAmout",cols:"12",md:"3"}},[r("b-form-spinbutton",{staticClass:"spinbutton",attrs:{id:"amountInput",min:"1",max:"100"},on:{change:function(r){return t.updateCount(e.amount)}},model:{value:e.amount,callback:function(r){t.$set(e,"amount",r)},expression:"cartItem.amount"}})],1),r("b-col",{staticClass:"proPrice",attrs:{cols:"12",md:"3"}},[t._v("NT$ "+t._s(e.amount*e.price))]),r("b-col",{attrs:{id:"proDel",cols:"12",md:"1"}},[r("b-button",{staticClass:"delbtn",on:{click:function(r){return t.delCart(e)}}},[r("span",[t._v("x")])])],1)],1)],1)})),r("p",{staticClass:"totalPrice"},[t._v("總金額"),r("span",{staticClass:"pl-3"},[t._v("NT$ "+t._s(t.cartTotalPrice))])])],2)],1),r("tab-content",{staticClass:"my-3 mb-5",attrs:{title:"填寫資料","before-change":t.beforeConfirm}},[r("b-row",{staticClass:"w-50"},[r("b-col",{staticClass:"form-group",attrs:{cols:"12"}},[r("label",{attrs:{for:"username"}},[t._v("收件人姓名"),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.orderInfo.userName,expression:"orderInfo.userName"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{id:"username",type:"text",name:"name",placeholder:"輸入姓名"},domProps:{value:t.orderInfo.userName},on:{input:function(e){e.target.composing||t.$set(t.orderInfo,"userName",e.target.value)}}}),t.errors.has("name")?r("span",{staticClass:"text-danger"},[t._v("須輸入姓名")]):t._e()]),r("b-col",{staticClass:"form-group",attrs:{cols:"12"}},[r("label",{attrs:{for:"usertel"}},[t._v("收件人電話"),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.orderInfo.userTel,expression:"orderInfo.userTel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{id:"usertel",type:"tel",name:"tel",placeholder:"輸入電話"},domProps:{value:t.orderInfo.userTel},on:{input:function(e){e.target.composing||t.$set(t.orderInfo,"userTel",e.target.value)}}}),t.errors.has("tel")?r("span",{staticClass:"text-danger"},[t._v("須輸入電話")]):t._e()]),r("b-col",{staticClass:"form-group",attrs:{cols:"12"}},[r("label",{attrs:{for:"useremail"}},[t._v("收件人電子信箱"),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.orderInfo.userEmail,expression:"orderInfo.userEmail"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{id:"useremail",type:"email",name:"email",placeholder:"請輸入 Email"},domProps:{value:t.orderInfo.userEmail},on:{input:function(e){e.target.composing||t.$set(t.orderInfo,"userEmail",e.target.value)}}}),t.errors.has("email")?r("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),r("b-col",{staticClass:"form-group",attrs:{cols:"12"}},[r("label",{attrs:{for:"useraddress"}},[t._v("收件人地址"),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.orderInfo.userAddress,expression:"orderInfo.userAddress"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{id:"useraddress",type:"text",name:"address",placeholder:"輸入姓名"},domProps:{value:t.orderInfo.userAddress},on:{input:function(e){e.target.composing||t.$set(t.orderInfo,"userAddress",e.target.value)}}}),t.errors.has("address")?r("span",{staticClass:"text-danger"},[t._v("須輸入地址")]):t._e()]),r("b-col",{staticClass:"form-group",attrs:{cols:"12"}},[r("label",{attrs:{for:"arriveDate"}},[t._v("送達日"),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("b-form-input",{attrs:{id:"arriveDate",type:"date"},model:{value:t.arriveDate,callback:function(e){t.arriveDate=e},expression:"arriveDate"}})],1),r("hr",{staticClass:"w-100"}),r("b-col",{staticClass:"form-group",attrs:{cols:"12"}},[r("label",{attrs:{for:"payment"}},[t._v("付款方式")]),r("b-form-radio",{attrs:{id:"payment",name:"some-radios",value:"貨到付款",checked:""},model:{value:t.orderInfo.payment,callback:function(e){t.$set(t.orderInfo,"payment",e)},expression:"orderInfo.payment"}},[t._v("貨到付款")])],1),r("b-col",{staticClass:"form-group",attrs:{cols:"12"}},[r("label",{attrs:{for:"textarea"}},[t._v("備註")]),r("b-form-textarea",{attrs:{id:"textarea",placeholder:"有任何特殊需求可以寫在這裡",rows:"1","max-rows":"6"},model:{value:t.orderInfo.other,callback:function(e){t.$set(t.orderInfo,"other",e)},expression:"orderInfo.other"}})],1)],1)],1),r("tab-content",{staticClass:"mt-3 mb-5",attrs:{title:"送出訂單"}},[r("b-row",{staticClass:"row"},[r("b-col",{attrs:{id:"left",cols:"12",md:"5"}},[r("p",{staticClass:"title"},[t._v("商品資料")]),r("b-row",{staticClass:"flexColumn"},[t._l(t.cartItems,(function(e,s){return r("b-col",{key:e.id,staticClass:"d-flex align-items-center justify-content-center",attrs:{id:"finalPro"}},[r("div",{staticClass:"mr-2 w-50",attrs:{id:"finalImg"}},[r("img",{staticClass:"image",attrs:{src:e.imageUrl}})]),r("div",{staticClass:"flexColumn w-50"},[r("p",{staticClass:"m-0"},[t._v(t._s(e.name))]),r("p",{staticClass:"proSmall m-0 pt-1 pb-3"},[t._v("單價 NT$ "+t._s(e.price))]),r("p",{staticClass:"m-0 d-flex justify-content-between align-items-center"},[r("span",[t._v("x"+t._s(e.amount))]),r("span",{staticClass:"proPrice"},[t._v("NT$ "+t._s(e.amount*e.price))])])])])})),r("p",{staticClass:"totalPrice mt-3"},[t._v("總金額"),r("span",{staticClass:"pl-3"},[t._v("NT$ "+t._s(t.cartTotalPrice))])])],2)],1),r("b-col",{staticClass:"flexColumn",attrs:{id:"right",cols:"12",md:"7"}},[r("p",{staticClass:"title"},[t._v("基本資料")]),r("div",{attrs:{id:"finalInfo"}},[r("b-row",[r("b-col",{attrs:{cols:"5"}},[r("p",[t._v("姓名")])]),r("b-col",{attrs:{cols:"7"}},[r("p",[t._v(t._s(t.orderInfo.userName))])])],1),r("b-row",[r("b-col",{attrs:{cols:"5"}},[r("p",[t._v("電話")])]),r("b-col",{attrs:{cols:"7"}},[r("p",[t._v(t._s(t.orderInfo.userTel))])])],1),r("b-row",[r("b-col",{attrs:{cols:"5"}},[r("p",[t._v("信箱")])]),r("b-col",{attrs:{cols:"7"}},[r("p",[t._v(t._s(t.orderInfo.userEmail))])])],1),r("b-row",[r("b-col",{attrs:{cols:"5"}},[r("p",[t._v("地址")])]),r("b-col",{attrs:{cols:"7"}},[r("p",[t._v(t._s(t.orderInfo.userAddress))])])],1),r("b-row",[r("b-col",{attrs:{cols:"5"}},[r("p",[t._v("送達日期")])]),r("b-col",{attrs:{cols:"7"}},[r("p",[t._v(t._s(t.arriveDate))])])],1),r("b-row",[r("b-col",{attrs:{cols:"5"}},[r("p",[t._v("付款方式")])]),r("b-col",{attrs:{cols:"7"}},[r("p",[t._v(t._s(t.orderInfo.payment))])])],1),r("b-row",[r("b-col",{attrs:{cols:"5"}},[r("p",[t._v("備註")])]),r("b-col",{attrs:{cols:"7"}},[r("p",[t._v(t._s(t.orderInfo.other))])])],1)],1)])],1)],1)],1):t._e(),0==t.cartItems.length?r("div",{staticClass:"mt-2 mt-md-3",attrs:{id:"container"}},[r("h4",{staticClass:"text-center mb-4"},[t._v("購物車裡目前沒有任何商品喔，可以來這裡看看~")]),r("div",{staticClass:"proImg mb-4"},[r("img",{staticClass:"image",attrs:{src:"./Home/fox03.png"}})]),r("b-button",{staticClass:"proBtn",attrs:{variant:"danger",to:"/allProducts"}},[t._v("商品頁")])],1):t._e()],1)},a=[];r("ac1f"),r("1276"),r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=r("9d8d"),l=r("2f62"),u={name:"Cart",data:function(){return{orderInfo:{userName:"",userTel:"",userEmail:"",userAddress:"",payment:"貨到付款",other:""},arriveDate:"",orderStatus:"未付款"}},components:{Navbar:c["a"]},computed:i(i({},Object(l["b"])(["cartTotalPrice","cartItems"])),{},{user:function(){return this.$store.getters.user},todayDate:function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}),methods:{islogin:function(){if(0!==this.user.id.length)return!0;this.$swal({icon:"warning",title:"未登入",text:"請先登入喔"}),this.$router.push("/regandlogin")},updateCount:function(t){this.$store.commit("updateProduct",t)},uppdateItem:function(t){this.$store.commit("uppdateItem",t)},delCart:function(t){this.$store.commit("delCartProduct",t)},orderComplete:function(){var t=this,e=Date.now(),r=this.arriveDate.split("-");toString(parseInt(r[0])),r=parseInt(r[0])+"-"+parseInt(r[1])+"-"+parseInt(r[2]);var s={userId:this.user.id,identification:e,date:this.todayDate,arriveDate:r,orderInfo:this.orderInfo,cartInfo:this.cartItems,orderStatus:this.orderStatus};console.log(s),this.axios.post("https://japanpan.herokuapp.com/orders",s).then((function(r){r.data.success?(t.$store.commit("clearCart"),t.$swal({icon:"success",title:"已成功送出訂單，可至會員專區查看訂單",text:"訂單編號為 ".concat(e),timer:4e3,showConfirmButton:!1})):t.$swal({icon:"error",title:"錯誤",text:r.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))},beforeConfirm:function(){var t=this.todayDate.split("-"),e=this.arriveDate.split("-"),r=parseInt(t[0]),s=parseInt(e[0]),a=parseInt(t[1]),n=parseInt(e[1]),o=parseInt(t[2]),i=parseInt(e[2]);return this.orderInfo.userName&&this.orderInfo.userTel&&this.orderInfo.userEmail&&this.orderInfo.userAddress&&this.orderInfo.payment&&this.arriveDate?r>s||r<=s&&a>n?(this.$swal({toast:!0,position:"top-end",icon:"error",text:"請選擇今天之後的日期",timer:2e3,showConfirmButton:!1}),!1):!(r<=s&&a===n&&o>=i)||(this.$swal({toast:!0,position:"top-end",icon:"error",text:"請選擇今天之後的日期",timer:2e3,showConfirmButton:!1}),!1):(this.$validator.validate(),!1)}}},f=u,d=(r("eff1"),r("2877")),m=Object(d["a"])(f,s,a,!1,null,"c093a3c2",null);e["default"]=m.exports},d784:function(t,e,r){"use strict";r("ac1f");var s=r("6eeb"),a=r("d039"),n=r("b622"),o=r("9263"),i=r("9112"),c=n("species"),l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=n("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),m=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,f){var p=n(t),v=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=v&&!a((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!v||!g||"replace"===t&&(!l||!u||d)||"split"===t&&!m){var h=/./[p],b=r(p,""[t],(function(t,e,r,s,a){return e.exec===o?v&&!a?{done:!0,value:h.call(e,r,s)}:{done:!0,value:t.call(r,e,s)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),x=b[0],C=b[1];s(String.prototype,t,x),s(RegExp.prototype,p,2==e?function(t,e){return C.call(t,this,e)}:function(t){return C.call(t,this)})}f&&i(RegExp.prototype[p],"sham",!0)}},dbb4:function(t,e,r){var s=r("23e7"),a=r("83ab"),n=r("56ef"),o=r("fc6a"),i=r("06cf"),c=r("8418");s({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,r,s=o(t),a=i.f,l=n(s),u={},f=0;while(l.length>f)r=a(s,e=l[f++]),void 0!==r&&c(u,e,r);return u}})},e439:function(t,e,r){var s=r("23e7"),a=r("d039"),n=r("fc6a"),o=r("06cf").f,i=r("83ab"),c=a((function(){o(1)})),l=!i||c;s({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(t,e){return o(n(t),e)}})},e538:function(t,e,r){var s=r("b622");e.f=s},eff1:function(t,e,r){"use strict";r("6134")}}]);
//# sourceMappingURL=Cart.bd26f160.js.map