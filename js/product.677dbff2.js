(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product"],{"076e":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-3",attrs:{id:"Footer"}},[s("p",{staticClass:"p-0 m-0 text-center"},[t._v("呷胖胖 所有圖片皆來自於網路")]),s("p",{staticClass:"p-0 m-0 text-center"},[t._v("Copyright © 2021")])])}],n={name:"Footer"},c=n,r=(s("ace7"),s("2877")),i=Object(r["a"])(c,a,o,!1,null,"9a3f5ec0",null);e["a"]=i.exports},"146f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"product"}},[s("Navbar"),s("b-breadcrumb",{staticClass:"mt-5"},[s("b-breadcrumb-item",{attrs:{to:"/"}},[t._v("首頁")]),s("b-breadcrumb-item",{attrs:{to:"/allProducts"}},[t._v("美味麵包")]),s("b-breadcrumb-item",{attrs:{active:""}},[t._v(t._s(t.product.name))])],1),s("div",{attrs:{id:"container"}},[s("b-row",{staticClass:"row"},[s("b-col",{staticClass:"p-0 mt-5 mb-3 mt-md-0 mb-md-0",attrs:{id:"proImg",cols:"12",md:"6"}},[s("img",{attrs:{src:t.product.imageUrl}}),s("font-awesome-icon",{class:{favColor:t.favItems.some((function(e){return e._id===t.product._id}))},attrs:{id:"favTop",icon:["fas","heart"]},on:{click:function(e){return t.addFav(t.product)}}})],1),s("b-col",{attrs:{id:"proInfo",cols:"12",md:"6"}},[s("div",{staticClass:"proNameBox my-2"},[s("div",{staticClass:"proNameLeft"},[s("span",{staticClass:"proBig"},[t._v(t._s(t.product.name))]),s("span",{staticClass:"proSmall"},[t._v("NT$ "+t._s(t.product.price))])]),s("font-awesome-icon",{class:{favColor:t.favItems.some((function(e){return e._id===t.product._id}))},attrs:{id:"favIcon",icon:["fas","heart"]},on:{click:function(e){return t.addFav(t.product)}}})],1),s("div",{staticClass:"proMore"},[s("p",{staticClass:"mt-3 mb-3"},[t._v("成分 | "+t._s(t.product.ingredient))]),t.product.period?s("p",{staticClass:"m-0 proSmall"},[t._v("※本產品保存期限為"+t._s(t.product.period)+"，請儘速食用"),s("span",{staticClass:"noDot"},[t._v("。")])]):t._e(),t.product.allergy?s("p",{staticClass:"mb-2 proSmall"},[t._v("※本產品含"+t._s(t.product.allergy)+"等過敏食物"),s("span",{staticClass:"noDot"},[t._v("。")])]):t._e()]),s("b-form-spinbutton",{staticClass:"mt-4",attrs:{id:"amountInput",min:"1",max:"100"},model:{value:t.qunvalue,callback:function(e){t.qunvalue=e},expression:"qunvalue"}}),s("b-button",{staticClass:"addToCart mt-4 py-3",attrs:{href:"#"},on:{click:function(e){return t.addCart(t.product)}}},[s("font-awesome-icon",{staticClass:"mr-3",attrs:{icon:["fas","shopping-cart"]},on:{click:function(e){return t.addCart(t.product)}}}),s("span",[t._v("加入購物車")])],1)],1)],1),s("hr",{staticClass:"my-2 mt-md-2 mb-md-5"}),s("div",{staticClass:"proDes my-3 my-md-2"},[s("p",{staticClass:"about text-center"},[t._v("關於"+t._s(t.product.name))]),s("p",{staticClass:"text-justify mb-4 m-auto proDes"},[t._v(t._s(t.product.description))])]),s("hr",{staticClass:"my-3 mt-md-5 mb-md-5"}),0!==t.samePro.length?s("div",{staticClass:"mt-5 pt-md-4",attrs:{id:"samePro"}},[s("p",{staticClass:"about text-center mb-4"},[t._v("相關商品推薦")]),s("carousel",{staticClass:"carousel",attrs:{"per-page":1,"per-page-custom":[[320,2],[1199,3]]}},t._l(t.samePro,(function(e,a){return s("slide",{key:a,staticClass:"slide"},[s("b-card",{staticClass:"carouselCard",attrs:{overlay:"","img-src":e.imageUrl,"text-variant":"white"}},[s("b-button",{staticClass:"cardBtn",attrs:{to:"/AllProducts/"+e._id}},[t._v(t._s(e.name))])],1)],1)})),1)],1):t._e()],1),s("Footer")],1)},o=[],n=(s("99af"),s("4de4"),s("c740"),s("c975"),s("b0c0"),s("076e")),c=s("9d8d"),r=s("0a63"),i={name:"product",components:{Carousel:r["Carousel"],Slide:r["Slide"],Navbar:c["a"],Footer:n["a"]},data:function(){return{productId:"",product:[],samePro:[],qunvalue:1,isFav:!1,favPro:[]}},methods:{addFav:function(t){var e=this.favItems.findIndex((function(e){return e._id===t._id}));-1===e?(this.$store.commit("addFav",t),this.$swal({toast:!0,position:"top-end",icon:"success",text:"已將 ".concat(t.name," 加入收藏"),timer:2e3,showConfirmButton:!1})):this.$store.commit("delFav",t)},addCart:function(t){var e={productId:t._id,name:t.name,images:t.images,imageUrl:t.imageUrl,price:t.price,amount:this.qunvalue};this.$swal({toast:!0,position:"top-end",icon:"success",text:"已將 ".concat(t.name," x ").concat(this.qunvalue," 加入購物車"),timer:2e3,showConfirmButton:!1}),this.$store.commit("addCart",e)}},computed:{favItems:function(){return this.$store.getters.favItems}},mounted:function(){var t=this;this.productId=this.$route.params.productId,this.axios.get("https://japanpan.herokuapp.com/products/"+this.productId).then((function(e){t.product=e.data.result;var s="".concat("https://japanpan.herokuapp.com","/products/images/").concat(t.product.images);t.product.imageUrl=s})).then((function(){t.axios.get("https://japanpan.herokuapp.com/products").then((function(e){var s=e.data.result,a=s.filter((function(e){return e.category===t.product.category&&e.name!==t.product.name})),o=[];if(0!==a.length)while(o.length<a.length){var n=Math.floor(Math.random()*a.length);if(o.indexOf(a[n])<0){var c="".concat("https://japanpan.herokuapp.com","/products/images/").concat(a[n].images);a[n].imageUrl=c,o.push(a[n])}}t.samePro=o}))}))}},l=i,u=(s("692d"),s("2877")),d=Object(u["a"])(l,a,o,!1,null,"51aa3d0e",null);e["default"]=d.exports},3470:function(t,e,s){},"4de4":function(t,e,s){"use strict";var a=s("23e7"),o=s("b727").filter,n=s("1dde"),c=s("ae40"),r=n("filter"),i=c("filter");a({target:"Array",proto:!0,forced:!r||!i},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"692d":function(t,e,s){"use strict";s("86d8")},"86d8":function(t,e,s){},"99af":function(t,e,s){"use strict";var a=s("23e7"),o=s("d039"),n=s("e8b5"),c=s("861d"),r=s("7b0b"),i=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),m=s("b622"),p=s("2d00"),f=m("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",g=p>=51||!o((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),C=d("concat"),_=function(t){if(!c(t))return!1;var e=t[f];return void 0!==e?!!e:n(t)},b=!g||!C;a({target:"Array",proto:!0,forced:b},{concat:function(t){var e,s,a,o,n,c=r(this),d=u(c,0),m=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?c:arguments[e],_(n)){if(o=i(n.length),m+o>h)throw TypeError(v);for(s=0;s<o;s++,m++)s in n&&l(d,m,n[s])}else{if(m>=h)throw TypeError(v);l(d,m++,n)}return d.length=m,d}})},"9bb0":function(t,e,s){"use strict";s("3470")},"9d8d":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3 d-flex align-items-center",attrs:{id:"navbar"}},[s("b-row",{staticClass:"w-90 mx-auto"},[s("b-col",{staticClass:"d-flex align-iems-start pl-0",attrs:{cols:"3"}},[s("img",{staticClass:"logo",attrs:{src:"./Home/logo08.png"},on:{click:t.toHome}})]),s("b-col",{staticClass:"d-flex flex-column justify-content-around px-0",attrs:{cols:"9"}},[s("div",{staticClass:"d-flex justify-content-end h-10",attrs:{id:"icons"}},[s("font-awesome-icon",{staticClass:"icon ml-auto mr-4",attrs:{icon:["fab","instagram"]}}),s("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fab","facebook-square"]}})],1),s("div",{staticClass:"d-flex justify-content-end h-90",attrs:{id:"items"}},[s("b-row",{staticClass:"justify-content-end"},[0===t.admin.id.length?s("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toAll}},[s("p",{staticClass:"p-0 m-0 text-center"},[t._v("美味麵包")]),s("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Delicious")])]):t._e(),0===t.admin.id.length?s("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toFav}},[0!==t.favItemsLength?s("div",{staticClass:"favItem"},[t._v(t._s(t.favItemsLength))]):t._e(),s("p",{staticClass:"p-0 m-0 text-center"},[t._v("收藏")]),s("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Fav")])]):t._e(),0===t.admin.id.length?s("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toCart}},[0!==t.cartItemsLength?s("div",{staticClass:"cartItem"},[t._v(t._s(t.cartItemsLength))]):t._e(),s("p",{staticClass:"p-0 m-0 text-center"},[t._v("購物車")]),s("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Cart")])]):t._e(),0!==t.user.id.length&&0===t.admin.id.length?s("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toMember}},[s("p",{staticClass:"p-0 m-0 text-center"},[t._v("會員專區")]),s("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Member")])]):t._e(),0!==t.admin.id.length&&0===t.user.id.length?s("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toAdmin}},[s("p",{staticClass:"p-0 m-0 text-center"},[t._v("後台管理")]),s("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Admin")])]):t._e(),0===t.user.id.length&&0===t.admin.id.length?s("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.toLogin}},[s("p",{staticClass:"p-0 m-0 text-center"},[t._v("登入 / 註冊")]),s("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Sign In / Sign Up")])]):t._e(),0!==t.admin.id.length&&0===t.user.id.length?s("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.adminLogout}},[s("p",{staticClass:"p-0 m-0 text-center"},[t._v("登出")]),s("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Log Out")])]):t._e(),0!==t.user.id.length&&0===t.admin.id.length?s("b-col",{staticClass:"dec d-flex flex-column align-items-center justify-content-center",attrs:{cols:"auto"},on:{click:t.logout}},[s("p",{staticClass:"p-0 m-0 text-center"},[t._v("登出")]),s("p",{staticClass:"p-0 m-0 text-center tosmall topSmall"},[t._v("Log Out")])]):t._e()],1)],1)])],1)],1)},o=[],n={name:"navbar",data:function(){return{}},computed:{user:function(){return this.$store.state.user},admin:function(){return this.$store.state.admin},favItemsLength:function(){return this.$store.getters.favItemsLength},cartItemsLength:function(){return this.$store.getters.cartTotalAmount}},methods:{toLogin:function(){this.$router.push("/regandlogin")},toAll:function(){this.$router.push("/allProducts")},toAdmin:function(){this.$router.push("/admin")},toFav:function(){this.$router.push("/fav")},toCart:function(){this.$router.push("/cart")},toMember:function(){this.$router.push("/member")},toHome:function(){this.$router.push("/")},logout:function(){var t=this;this.axios.delete("https://japanpan.herokuapp.com/users/logout").then((function(e){e.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))},adminLogout:function(){var t=this;this.axios.delete("https://japanpan.herokuapp.com/admins/logout").then((function(e){e.data.success?(t.$swal({icon:"success",title:"成功",text:"登出成功"}),t.$store.commit("adminLogout"),"/"!==t.$route.path&&t.$router.push("/")):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))}}},c=n,r=(s("9bb0"),s("2877")),i=Object(r["a"])(c,a,o,!1,null,"368ca8f6",null);e["a"]=i.exports},ace7:function(t,e,s){"use strict";s("c19f")},c19f:function(t,e,s){},c740:function(t,e,s){"use strict";var a=s("23e7"),o=s("b727").findIndex,n=s("44d2"),c=s("ae40"),r="findIndex",i=!0,l=c(r);r in[]&&Array(1)[r]((function(){i=!1})),a({target:"Array",proto:!0,forced:i||!l},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)}}]);
//# sourceMappingURL=product.677dbff2.js.map